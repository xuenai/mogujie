require(["config"],function(){require(["jquery","template","tweenmax","header","footer"],function(o,t){o(".search .top-l,.bar .top-l").hover(function(){o(this).find("ul").show()},function(){o(this).find("ul").hide()}),o(".search .top-l li,.bar .top-l li").hover(function(){o(this).addClass("active")},function(){o(this).removeClass("active")}),o(".search .top .txt").focus(function(){o(".search .top .history").show()}).blur(function(){o(".search .top .history").hide()}),o(".bar .top .txt").focus(function(){o(".bar .top .history").show()}).blur(function(){o(".bar .top .history").hide()}),o.getJSON("/data/searchHot.json",function(n){var e=t("search-hot",{list:n});o(".wrap .center .bottom").html(e)}),o.getJSON("/data/theameMark.json",function(n){var e=t("theamemark",{list:n});o(".banner .wrap ul,.shop ul").html(e),o(".banner ul li,.shop ul li").hover(function(){o(this).css("background-color","white")},function(){o(this).css("background-color","")}),o(".banner .wrap").on("mouseover","ul li,.show",function(){"LI"==o(this)[0].nodeName?o(".banner .wrap .show").hide().eq(o(this).index()).show():o(this).show()}).on("mouseout","ul li,.show",function(){"LI"==o(this)[0].nodeName?o(".banner .wrap .show").hide():o(this).hide()}),o(".shop").on("mouseover","ul li,.show",function(){"LI"==o(this)[0].nodeName?o(".shop .show").hide().eq(o(this).index()).show():o(this).show()}).on("mouseout","ul li,.show",function(){"LI"==o(this)[0].nodeName?o(".shop .show").hide():o(this).hide()}),o(document).on("mouseover","#showall,.shop",function(){o(".shop").show()}).on("mouseout","#showall,.shop",function(){o(".shop").hide()})}),o.getJSON("/data/theameMark.json",function(n){var e=t("shoplist",{list:n});o(".banner .wrap,.shop").append(e),o.getJSON("/data/bantuijian.json",function(n){var e=t("bantuijian",{list:n});o(".banner .wrap .show .right,.shop .show .right").append(e)})}),o.getJSON("/data/bannershow.json",function(t){function n(){r.eq(s).fadeOut(500),h.eq(s).css("background-color","#e7e7e7"),++s>=e&&(s=0),u.css("background-color",f[s]),h.eq(s).css("background-color","#ff0077"),r.eq(s).fadeIn(500)}for(var e=t.length,a="",i='<div class="pt">',s=0,l=0;l<e;l++)a+='<a href="#"><img src="'+t[l].url+'" /></a>',i+='<a href="#"></a>';a+=i+="</div>",o(".banner .bannershow").append(a);var r=o(".bannershow > a"),h=o(".bannershow .pt a"),c=null,u=o(".banner"),f=["#b9aabf","#8fb3b9","#f65da5","#edf1f4"];c=setInterval(n,3e3),h.on("mouseover",function(){o(this).index()!=s&&(r.eq(s).fadeOut(500),h.eq(s).css("background-color","#e7e7e7"),s=o(this).index(),h.eq(s).css("background-color","#ff0077"),r.eq(s).fadeIn(500))}),o(".bannershow").hover(function(){clearInterval(c)},function(){c=setInterval(n,3e3)})}),function(){var t,n,e,a,i=new Date,s=null;i.setHours(i.getHours()+2),s=setInterval(function(){var l=new Date;(a=Math.floor((i-l)/1e3))>=0?(e=("0"+a%60).slice(-2),n=("0"+Math.floor(a/60)%60).slice(-2),t=("0"+Math.floor(a/60/60)).slice(-2),o(".time").html("<span>"+t+"</span> : <span>"+n+"</span> : <span>"+e+"</span>")):clearInterval(s)},1e3)}(),o.getJSON("/data/hotmen.json",function(t){var n=[],e=[],a=o(".hotmen .con .left").find("img"),i=o(".hotmen .con .left").find("p"),s=-1;o.each(t,function(o,t){n.push(o)}),a.each(function(n,a){o(a).attr({src:t[n].url}),i.eq(n).text(t[n].title),e.push(n)}),setInterval(function(){for(var a=Math.floor(Math.random()*n.length),i=Math.floor(Math.random()*e.length),l=o(".hotmen .con .left").find("img"),r=o(".hotmen .con .left").find("p");-1!=o.inArray(n[a],e);)a=Math.floor(Math.random()*n.length),console.log(69696);for(;s==i;)i=Math.floor(Math.random()*e.length);for(var h=0,c=e.length;h<c;h++)if(t[e[h]].title==r.eq(i).text()){e.splice(h,1,n[a]);break}var u=new TimelineMax,f=o(".hotmen .con .left").children("a").eq(i)[0];u.to(f,.5,{rotationY:90,onComplete:function(){console.log([a,i]),l.eq(i).attr({src:t[n[a]].url}),r.eq(i).text(t[n[a]].title)}}),u.to(f,.5,{rotationY:0}),s=i},4e3)}),function(){function t(){i&&(i=!1,s?e--:e++,o(".jxzt .lungo").stop().animate({left:-e*l},function(){e>=h-1?(o(".jxzt .lungo").css({left:-l}),e=1):e<=0&&(o(".jxzt .lungo").css({left:-(h-2)*l}),e=h-2),i=!0,s=!1}),e>=h-1?c.eq(0).siblings().removeClass("active").end().addClass("active"):e<=0?c.eq(c.length-1).siblings().removeClass("active").end().addClass("active"):c.eq(e-1).siblings().removeClass("active").end().addClass("active"))}var n=o(".jxzt .lungo>div").eq(0).outerWidth(!0),e=1,a=null,i=!0,s=!1,l=3*n,r=o(".jxzt .lungo>div").length,h=r/3,c=o(".jxzt .title p span");o(".jxzt .lungo").css({width:r*n,left:-l}),o(".jxzt").hover(function(){o("#prev,#next").show(),clearInterval(a)},function(){o("#prev,#next").hide(),a=setInterval(t,3e3)}),o("#next").click(function(){s=!1,t()}),o("#prev").click(function(){s=!0,t()}),c.mouseover(function(){e=o(this).index(),t()}),a=setInterval(t,3e3)}(),o.getJSON("/data/lou.json",function(n){var e={list:n};html=t("loutemp",e),o("#lou").append(html),function(){var t=o(".hotmen").offset().top,n=o(window).height(),e=o(".palouti a").length-1,a=o(".palouti a:not(:last)"),i=o(".plys");o(window).scroll(function(){o(window).scrollTop()>t-n/2?o(".palouti").show(200):o(".palouti").hide(200),i.each(function(t,i){if(!(t>e-1)){var s=o(i).offset().top-n/2-140;o(window).scrollTop()>s&&a.eq(t).addClass("active").siblings().removeClass("active")}})}),o(".palouti").on("click","a:not(:last)",function(){var t=o(this).index(),n=i.eq(t).offset().top-160;o("html,body").stop().animate({scrollTop:n})}),o(".palouti a:last").on("click",function(){o("html,body").stop().animate({scrollTop:0})})}()}),o.getJSON("/data/cwxh.json",function(n){var e={list:n};html=t("cwxh",e),o(".cwxh .con").append(html)}),o(window).scrollTop()>0?o("#totop").show():o("#totop").hide(),o(window).scroll(function(){o(window).scrollTop()>0?o("#totop").show():o("#totop").hide(),o(window).scrollTop()>500?o(".bar").show():o(".bar").hide()}),o("#totop").click(function(){o(document.body).animate({scrollTop:0})}),o(".xians,.hotmen,#lou,.jxzt").on("click","a:not(#prev,#next)",function(o){o.preventDefault(),location="/html/details2.html"}),o(".banner .wrap").on("click","ul a",function(o){o.preventDefault(),location="/html/list.html"})})});